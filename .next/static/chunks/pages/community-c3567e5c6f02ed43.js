(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[44],{6595:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/community",function(){return s(5469)}])},5469:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return d}});var a=s(5893),l=s(7294);let r="gw_feed",o="gw_events",i="gw_exchange";function n(e){let{children:t,className:s="",size:l="md",...r}=e;return(0,a.jsx)("button",{...r,className:"relative inline-flex rounded-full bg-gradient-to-br from-fuchsia-400 via-violet-400 to-sky-400 p-[1.5px] shadow-lg shadow-violet-500/40 transition hover:shadow-violet-400/70 hover:-translate-y-[1px] ".concat(s),children:(0,a.jsx)("span",{className:"flex items-center justify-center rounded-full bg-slate-950 ".concat("sm"===l?"px-3 py-1.5 text-xs md:text-sm":"px-4 py-2 text-sm md:text-sm"," text-slate-50"),children:t})})}function d(){let e=function(){let[e,t]=(0,l.useState)(!1);return(0,l.useEffect)(()=>t(!0),[]),e}(),[t,s]=(0,l.useState)("Feed"),[d,c]=(0,l.useState)([]),[x,m]=(0,l.useState)(""),[u,h]=(0,l.useState)(""),[p,g]=(0,l.useState)(void 0),[v,f]=(0,l.useState)(void 0),j=(0,l.useRef)(null),b=(0,l.useRef)(null),[N,w]=(0,l.useState)(!1),[y,S]=(0,l.useState)([]),[C,k]=(0,l.useState)(""),[D,E]=(0,l.useState)(""),[_,L]=(0,l.useState)(""),[O,U]=(0,l.useState)(""),[R,A]=(0,l.useState)([]),[z,P]=(0,l.useState)("Offer"),[T,W]=(0,l.useState)("Reiki"),[I,F]=(0,l.useState)(""),[J,M]=(0,l.useState)("");(0,l.useEffect)(()=>{if(e)try{c(JSON.parse(localStorage.getItem(r)||"[]")),S(JSON.parse(localStorage.getItem(o)||"[]")),A(JSON.parse(localStorage.getItem(i)||"[]"))}catch(e){}},[e]),(0,l.useEffect)(()=>{e&&localStorage.setItem(r,JSON.stringify(d))},[d,e]),(0,l.useEffect)(()=>{e&&localStorage.setItem(o,JSON.stringify(y))},[y,e]),(0,l.useEffect)(()=>{e&&localStorage.setItem(i,JSON.stringify(R))},[R,e]);let $=e=>new Promise((t,s)=>{let a=new FileReader;a.onload=()=>t(String(a.result)),a.onerror=s,a.readAsDataURL(e)}),B=async e=>{var t,s;if(!e||0===e.length)return;let a=e[0],l=null!==(s=null!==(t=function(e){if(e){if(e.startsWith("image/"))return"image";if(e.startsWith("video/"))return"video"}}(a.type))&&void 0!==t?t:function(e){if(!e)return;let t=e.toLowerCase();return/\.(png|jpg|jpeg|gif|webp|avif|svg)$/.test(t)?"image":/\.(mp4|webm|ogg|mov|m4v)$/.test(t)?"video":void 0}(a.name))&&void 0!==s?s:"image";try{let e=await $(a);g(e),f(l),h("")}catch(e){}};(0,l.useEffect)(()=>{let e=b.current;if(!e)return;let t=e=>{e.preventDefault(),w(!0)},s=e=>{e.preventDefault(),w(!1)},a=e=>{var t;e.preventDefault(),w(!1),B((null===(t=e.dataTransfer)||void 0===t?void 0:t.files)||null)};return e.addEventListener("dragover",t),e.addEventListener("dragleave",s),e.addEventListener("drop",a),()=>{e.removeEventListener("dragover",t),e.removeEventListener("dragleave",s),e.removeEventListener("drop",a)}},[]);let q=e=>c(t=>t.filter(t=>t.id!==e)),G=e=>S(t=>t.filter(t=>t.id!==e)),K=e=>{alert('Added "'.concat(e.title,'" to your in-app calendar.'))},V=e=>A(t=>t.filter(t=>t.id!==e)),X=(0,l.useMemo)(()=>[...y].sort((e,t)=>new Date(e.when).getTime()-new Date(t.when).getTime()),[y]);return(0,a.jsx)("div",{className:"min-h-screen bg-gradient-to-b from-slate-950 via-slate-950 to-slate-900 text-slate-100",children:(0,a.jsxs)("div",{className:"mx-auto flex max-w-6xl flex-col gap-8 px-4 pb-20 pt-8 md:px-8",children:[(0,a.jsx)("h1",{className:"sr-only",children:"Community"}),(0,a.jsxs)("header",{className:"flex flex-col gap-2 md:flex-row md:items-end md:justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-xs uppercase tracking-[0.25em] text-slate-500",children:"Together"}),(0,a.jsx)("h2",{className:"text-2xl font-semibold text-slate-50 md:text-3xl",children:"Community"}),(0,a.jsx)("p",{className:"mt-2 max-w-xl text-sm text-slate-300",children:"Your circle of support, love, and light — share updates, post gatherings, and offer energy exchanges."})]}),(0,a.jsxs)("div",{className:"mt-2 text-right md:mt-0",children:[(0,a.jsx)("p",{className:"text-xs uppercase tracking-[0.2em] text-slate-500",children:"From Within"}),(0,a.jsx)("p",{className:"bg-gradient-to-r from-violet-300 via-fuchsia-300 to-sky-300 bg-clip-text text-sm font-semibold text-transparent",children:"Community \xb7 Classes \xb7 Energy Exchange"})]})]}),(0,a.jsxs)("section",{className:"space-y-6",children:[(0,a.jsx)("div",{className:"flex flex-wrap gap-3",children:["Feed","Spiritual Classes & Workshops","Energy Exchange","Calendar View"].map(e=>(0,a.jsx)(n,{type:"button",size:"sm",onClick:()=>s(e),className:t===e?"":"opacity-60 hover:opacity-100 hover:shadow-violet-300/60",children:e},e))}),"Feed"===t&&(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("p",{className:"text-sm text-slate-300",children:"Share photos, videos, progress updates, and spiritual reflections with your From Within circle."}),(0,a.jsxs)("form",{onSubmit:e=>{e.preventDefault();let t=x.trim(),s=u.trim(),a=!!p,l=!!s;if(!t&&!a&&!l)return;let r=a?v:s?/\.(mp4|webm|ogg|mov|m4v)(\?|$)/i.test(s)?"video":"image":void 0,o={id:String(Date.now()),text:t,mediaDataUrl:a?p:void 0,mediaUrl:!a&&l?s:void 0,mediaKind:r,createdAt:Date.now()};c(e=>[o,...e]),m(""),h(""),g(void 0),f(void 0)},className:"rounded-3xl border border-slate-800 bg-slate-950/80 p-4 shadow-xl shadow-slate-950/60 space-y-3",children:[(0,a.jsx)("textarea",{value:x,onChange:e=>m(e.target.value),placeholder:"Write a reflection, win, or moment of magic…",className:"w-full rounded-2xl border border-slate-700 bg-slate-900/70 px-3 py-2 min-h-[80px] text-sm text-slate-100 placeholder:text-slate-500 focus:outline-none focus:ring-1 focus:ring-violet-400/70"}),(0,a.jsx)("div",{className:"grid gap-3 md:grid-cols-2",children:(0,a.jsxs)("div",{ref:b,className:"relative flex cursor-pointer items-center justify-center rounded-2xl border px-3 py-4 text-sm text-slate-300 transition ".concat(N?"border-violet-400 bg-slate-900/80 shadow-[0_0_40px_rgba(139,92,246,0.35)]":"border-slate-700 bg-slate-900/60 hover:border-violet-400/80 hover:bg-slate-900/80 hover:shadow-[0_0_30px_rgba(139,92,246,0.25)]"),onClick:()=>{var e;return null===(e=j.current)||void 0===e?void 0:e.click()},title:"Click to choose a file, or drag & drop here",children:[(0,a.jsx)("div",{className:"pointer-events-none absolute -left-10 top-0 h-24 w-24 rounded-full bg-fuchsia-500/10 blur-3xl"}),(0,a.jsx)("div",{className:"pointer-events-none absolute -right-10 bottom-0 h-24 w-24 rounded-full bg-sky-500/10 blur-3xl"}),(0,a.jsx)("input",{ref:j,type:"file",accept:"image/*,video/*",className:"hidden",onChange:e=>{B(e.target.files),e.target.value=""}}),(0,a.jsxs)("div",{className:"relative text-center",children:[(0,a.jsx)("div",{className:"font-medium text-slate-50",children:"Upload photo or video"}),(0,a.jsx)("div",{className:"text-xs text-slate-400 mt-1",children:"Drag & drop or click to choose a file"}),(0,a.jsx)("div",{className:"text-xs text-slate-500 mt-1",children:"Tip: Keep files small. Browser storage ≈ 5–10 MB total."})]})]})}),(p||u)&&(0,a.jsxs)("div",{className:"rounded-2xl border border-slate-800 bg-slate-950/80 p-3",children:[(0,a.jsx)("div",{className:"text-xs text-slate-400 mb-2",children:"Preview"}),p?"video"===v?(0,a.jsx)("video",{className:"w-full rounded-xl max-h-72",controls:!0,src:p}):(0,a.jsx)("img",{className:"w-full rounded-xl max-h-72 object-cover",src:p,alt:""}):/\.(mp4|webm|ogg|mov|m4v)(\?|$)/i.test(u)?(0,a.jsx)("video",{className:"w-full rounded-xl max-h-72",controls:!0,src:u}):(0,a.jsx)("img",{className:"w-full rounded-xl max-h-72 object-cover",src:u,alt:""}),(0,a.jsxs)("div",{className:"mt-3 flex flex-wrap gap-2",children:[p&&(0,a.jsx)(n,{type:"button",size:"sm",onClick:()=>{g(void 0),f(void 0)},children:"Remove upload"}),u&&(0,a.jsx)(n,{type:"button",size:"sm",onClick:()=>h(""),children:"Clear URL"})]})]}),(0,a.jsx)("div",{className:"flex justify-end",children:(0,a.jsx)(n,{type:"submit",children:"Post"})})]}),(0,a.jsxs)("ul",{className:"space-y-3",children:[d.map(e=>(0,a.jsxs)("li",{className:"rounded-3xl border border-slate-800 bg-slate-950/80 p-4 shadow-md shadow-slate-950/60",children:[(0,a.jsx)("div",{className:"text-xs text-slate-400 mb-1",children:new Date(e.createdAt).toLocaleString()}),e.text&&(0,a.jsx)("p",{className:"mb-2 text-sm text-slate-100",children:e.text}),"video"===e.mediaKind?(0,a.jsx)("video",{className:"rounded-2xl w-full max-h-96",controls:!0,src:e.mediaDataUrl||e.mediaUrl}):e.mediaDataUrl||e.mediaUrl?(0,a.jsx)("img",{src:e.mediaDataUrl||e.mediaUrl,alt:"",className:"rounded-2xl w-full object-cover max-h-96"}):null,(0,a.jsx)("div",{className:"mt-3",children:(0,a.jsx)(n,{type:"button",size:"sm",onClick:()=>q(e.id),children:"Delete"})})]},e.id)),0===d.length&&(0,a.jsx)("p",{className:"text-sm text-slate-400",children:"No posts yet."})]})]}),"Spiritual Classes & Workshops"===t&&(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("p",{className:"text-sm text-slate-300",children:"Members can post upcoming gatherings, circles, retreats, or classes. Each post supports “Add to Calendar”."}),(0,a.jsxs)("form",{onSubmit:e=>{e.preventDefault(),C.trim()&&D.trim()&&(S(e=>[{id:String(Date.now()),title:C.trim(),when:D,location:_.trim(),note:O.trim()||void 0,createdAt:Date.now()},...e]),k(""),E(""),L(""),U(""))},className:"rounded-3xl border border-slate-800 bg-slate-950/80 p-4 shadow-xl shadow-slate-950/60 grid gap-3 md:grid-cols-2",children:[(0,a.jsx)("input",{value:C,onChange:e=>k(e.target.value),placeholder:"Event title",className:"rounded-2xl border border-slate-700 bg-slate-900/70 px-3 py-2 text-sm text-slate-100 placeholder:text-slate-500 focus:outline-none focus:ring-1 focus:ring-violet-400/70"}),(0,a.jsx)("input",{type:"datetime-local",value:D,onChange:e=>E(e.target.value),className:"rounded-2xl border border-slate-700 bg-slate-900/70 px-3 py-2 text-sm text-slate-100 focus:outline-none focus:ring-1 focus:ring-violet-400/70"}),(0,a.jsx)("input",{value:_,onChange:e=>L(e.target.value),placeholder:"Location or link",className:"rounded-2xl border border-slate-700 bg-slate-900/70 px-3 py-2 text-sm text-slate-100 placeholder:text-slate-500 focus:outline-none focus:ring-1 focus:ring-violet-400/70"}),(0,a.jsx)("input",{value:O,onChange:e=>U(e.target.value),placeholder:"Optional notes",className:"rounded-2xl border border-slate-700 bg-slate-900/70 px-3 py-2 text-sm text-slate-100 placeholder:text-slate-500 focus:outline-none focus:ring-1 focus:ring-violet-400/70"}),(0,a.jsx)("div",{className:"md:col-span-2 flex justify-end",children:(0,a.jsx)(n,{type:"submit",children:"Add Event"})})]}),(0,a.jsxs)("ul",{className:"space-y-3",children:[y.map(e=>(0,a.jsxs)("li",{className:"rounded-3xl border border-slate-800 bg-slate-950/80 p-4 shadow-md shadow-slate-950/60",children:[(0,a.jsx)("div",{className:"font-medium text-slate-50",children:e.title}),(0,a.jsxs)("div",{className:"text-sm text-slate-300",children:[new Date(e.when).toLocaleString()," ",e.location?"• ".concat(e.location):""]}),e.note&&(0,a.jsx)("div",{className:"text-sm mt-1 text-slate-100",children:e.note}),(0,a.jsxs)("div",{className:"mt-3 flex flex-wrap gap-2",children:[(0,a.jsx)(n,{type:"button",size:"sm",onClick:()=>K(e),children:"Add to Calendar"}),(0,a.jsx)(n,{type:"button",size:"sm",onClick:()=>G(e.id),children:"Delete"})]})]},e.id)),0===y.length&&(0,a.jsx)("p",{className:"text-sm text-slate-400",children:"No events yet."})]})]}),"Energy Exchange"===t&&(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("p",{className:"text-sm text-slate-300",children:"Peer-to-peer support space — offer Reiki, crystal swaps, or intuitive guidance."}),(0,a.jsxs)("form",{onSubmit:e=>{e.preventDefault(),I.trim()&&(A(e=>[{id:String(Date.now()),type:z,topic:T,details:I.trim(),contact:J.trim()||void 0,createdAt:Date.now()},...e]),F(""),M(""))},className:"rounded-3xl border border-slate-800 bg-slate-950/80 p-4 shadow-xl shadow-slate-950/60 grid gap-3 md:grid-cols-2",children:[(0,a.jsxs)("select",{value:z,onChange:e=>P(e.target.value),className:"rounded-2xl border border-slate-700 bg-slate-900/70 px-3 py-2 text-sm text-slate-100 focus:outline-none focus:ring-1 focus:ring-violet-400/70",children:[(0,a.jsx)("option",{children:"Offer"}),(0,a.jsx)("option",{children:"Request"})]}),(0,a.jsxs)("select",{value:T,onChange:e=>W(e.target.value),className:"rounded-2xl border border-slate-700 bg-slate-900/70 px-3 py-2 text-sm text-slate-100 focus:outline-none focus:ring-1 focus:ring-violet-400/70",children:[(0,a.jsx)("option",{children:"Reiki"}),(0,a.jsx)("option",{children:"Crystal Swap"}),(0,a.jsx)("option",{children:"Meditation Guidance"}),(0,a.jsx)("option",{children:"Breathwork"}),(0,a.jsx)("option",{children:"Yoga Support"})]}),(0,a.jsx)("input",{value:J,onChange:e=>M(e.target.value),placeholder:"Contact (email/IG/phone)",className:"rounded-2xl border border-slate-700 bg-slate-900/70 px-3 py-2 text-sm text-slate-100 placeholder:text-slate-500 focus:outline-none focus:ring-1 focus:ring-violet-400/70 md:col-span-2"}),(0,a.jsx)("textarea",{value:I,onChange:e=>F(e.target.value),placeholder:"Describe what you offer or request…",className:"rounded-2xl border border-slate-700 bg-slate-900/70 px-3 py-2 min-h-[80px] text-sm text-slate-100 placeholder:text-slate-500 focus:outline-none focus:ring-1 focus:ring-violet-400/70 md:col-span-2"}),(0,a.jsx)("div",{className:"md:col-span-2 flex justify-end",children:(0,a.jsx)(n,{type:"submit",children:"Post"})})]}),(0,a.jsxs)("ul",{className:"space-y-3",children:[R.map(e=>(0,a.jsxs)("li",{className:"rounded-3xl border border-slate-800 bg-slate-950/80 p-4 shadow-md shadow-slate-950/60",children:[(0,a.jsxs)("div",{className:"text-sm text-slate-400",children:[e.type," • ",e.topic]}),(0,a.jsx)("div",{className:"mt-1 text-sm text-slate-100",children:e.details}),e.contact&&(0,a.jsxs)("div",{className:"text-sm text-slate-300 mt-1",children:["Contact: ",e.contact]}),(0,a.jsx)("div",{className:"mt-3",children:(0,a.jsx)(n,{type:"button",size:"sm",onClick:()=>V(e.id),children:"Delete"})})]},e.id)),0===R.length&&(0,a.jsx)("p",{className:"text-sm text-slate-400",children:"No posts yet."})]})]}),"Calendar View"===t&&(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)("p",{className:"text-sm text-slate-300",children:"Personalized schedule auto-populated with your community events."}),(0,a.jsx)("div",{className:"rounded-3xl border border-slate-800 bg-slate-950/80 overflow-hidden shadow-xl shadow-slate-950/60",children:(0,a.jsxs)("table",{className:"w-full text-sm text-slate-100",children:[(0,a.jsx)("thead",{className:"bg-slate-900/80",children:(0,a.jsxs)("tr",{className:"text-left",children:[(0,a.jsx)("th",{className:"p-3 font-medium text-slate-300",children:"When"}),(0,a.jsx)("th",{className:"p-3 font-medium text-slate-300",children:"Title"}),(0,a.jsx)("th",{className:"p-3 font-medium text-slate-300",children:"Location"})]})}),(0,a.jsxs)("tbody",{children:[X.map(e=>(0,a.jsxs)("tr",{className:"border-t border-slate-800/80",children:[(0,a.jsx)("td",{className:"p-3 text-slate-200",children:new Date(e.when).toLocaleString()}),(0,a.jsx)("td",{className:"p-3 text-slate-100",children:e.title}),(0,a.jsx)("td",{className:"p-3 text-slate-300",children:e.location||"—"})]},e.id)),0===X.length&&(0,a.jsx)("tr",{children:(0,a.jsx)("td",{className:"p-3 text-slate-400",colSpan:3,children:"No calendar items yet."})})]})]})})]})]})]})})}}},function(e){e.O(0,[888,774,179],function(){return e(e.s=6595)}),_N_E=e.O()}]);