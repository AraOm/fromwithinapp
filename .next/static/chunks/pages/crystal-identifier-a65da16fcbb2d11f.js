(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[205],{1532:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/crystal-identifier",function(){return s(5436)}])},2761:function(e,t,s){"use strict";s.d(t,{Z:function(){return l}});let l=(0,s(1134).Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},341:function(e,t,s){"use strict";s.d(t,{Z:function(){return l}});let l=(0,s(1134).Z)("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]])},5436:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return m}});var l=s(5893),a=s(7294),r=s(1664),i=s.n(r),n=s(5675),o=s.n(n),d=s(2761),c=s(3058),x=s(341);let h=(0,s(1134).Z)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);function m(){let[e,t]=(0,a.useState)(null),[s,r]=(0,a.useState)(!1),[n,m]=(0,a.useState)(null),[u,f]=(0,a.useState)(null),y=async e=>{r(!0),f(null),m(null);try{let t=await fetch("/api/crystal-identify",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({imageData:e})});if(!t.ok){let e=await t.text();console.error("Server error:",t.status,e),f(413===t.status?"Image is too large. Try a smaller photo or screenshot.":"Server error while identifying your crystal.");return}let s=await t.json();"error"in s?f(s.error||"Something went wrong identifying your crystal."):m(s)}catch(e){console.error("Client error identifying crystal:",e),f("Unable to reach the crystal guide. Try again in a moment.")}finally{r(!1)}};return(0,l.jsx)("div",{className:"min-h-screen bg-gradient-to-b from-slate-950 via-slate-950 to-slate-900 text-slate-100",children:(0,l.jsxs)("div",{className:"mx-auto flex max-w-5xl flex-col gap-8 px-4 pb-16 pt-6 md:px-8 md:pt-10",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsxs)(i(),{href:"/play",className:"inline-flex items-center text-sm text-slate-300 hover:text-slate-100",children:[(0,l.jsx)(d.Z,{className:"mr-1 h-4 w-4"}),"Back Home"]}),(0,l.jsxs)("div",{className:"text-right",children:[(0,l.jsx)("p",{className:"text-xs uppercase tracking-[0.2em] text-slate-400",children:"Crystals & Chakras"}),(0,l.jsx)("h1",{className:"bg-gradient-to-r from-violet-300 via-fuchsia-300 to-sky-300 bg-clip-text text-xl font-semibold text-transparent md:text-2xl",children:"Crystal Identifier"})]})]}),(0,l.jsxs)("div",{className:"relative overflow-hidden rounded-3xl border border-slate-800 bg-gradient-to-b from-slate-950/80 to-slate-900/90 px-4 py-6 shadow-2xl md:px-8 md:py-8",children:[(0,l.jsx)("div",{className:"pointer-events-none absolute -left-24 top-0 h-64 w-64 rounded-full bg-violet-500/10 blur-3xl"}),(0,l.jsx)("div",{className:"pointer-events-none absolute -right-10 bottom-0 h-64 w-64 rounded-full bg-sky-500/10 blur-3xl"}),(0,l.jsxs)("div",{className:"relative z-10 grid gap-10 md:grid-cols-[minmax(0,1.2fr)_minmax(0,1fr)] md:items-start",children:[(0,l.jsxs)("div",{children:[(0,l.jsxs)("div",{className:"mb-4 flex items-center gap-2",children:[(0,l.jsx)(c.Z,{className:"h-5 w-5 text-amber-300"}),(0,l.jsx)("h2",{className:"text-2xl font-semibold text-slate-50",children:"Upload a crystal photo"})]}),(0,l.jsx)("p",{className:"mb-6 max-w-xl text-sm text-slate-300",children:"Choose a clear photo of your crystal. I'll tune into its energy, identify the stone, and share its chakra alignment and key uses."}),(0,l.jsxs)("label",{htmlFor:"crystal-upload",className:"group relative flex cursor-pointer flex-col items-center justify-center overflow-hidden rounded-3xl border border-dashed border-slate-700 bg-slate-900/60 px-4 py-10 text-center transition hover:border-violet-500/60 hover:bg-slate-900/80",children:[(0,l.jsx)("div",{className:"absolute inset-0 rounded-3xl bg-gradient-to-tr from-violet-500/5 via-fuchsia-500/0 to-sky-500/10 opacity-0 transition group-hover:opacity-100"}),(0,l.jsxs)("div",{className:"relative z-10 flex flex-col items-center gap-4",children:[(0,l.jsx)("div",{className:"rounded-full bg-gradient-to-br from-fuchsia-400 via-violet-400 to-sky-400 p-[2px] shadow-lg shadow-violet-500/30",children:(0,l.jsx)("div",{className:"flex h-16 w-16 items-center justify-center rounded-full bg-slate-950",children:(0,l.jsx)(x.Z,{className:"h-7 w-7 text-slate-50"})})}),(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-sm font-medium text-slate-100",children:"Click to upload a photo"}),(0,l.jsx)("p",{className:"text-xs text-slate-400",children:"JPG, PNG up to ~10MB"})]})]})]}),(0,l.jsx)("input",{id:"crystal-upload",type:"file",accept:"image/*",onChange:e=>{var s;let l=null===(s=e.target.files)||void 0===s?void 0:s[0];if(!l)return;f(null),m(null);let a=new FileReader;a.onloadend=()=>{let e=a.result;t(e),y(e)},a.readAsDataURL(l)},className:"hidden"}),(0,l.jsxs)("div",{className:"mt-6 flex flex-col gap-2",children:[(0,l.jsx)("button",{onClick:()=>e&&y(e),disabled:!e||s,className:"inline-flex h-11 items-center justify-center rounded-full bg-gradient-to-r from-amber-400 via-fuchsia-400 to-sky-400 px-6 text-sm font-semibold text-slate-950 shadow-lg shadow-fuchsia-500/30 transition hover:brightness-110 disabled:cursor-not-allowed disabled:opacity-60",children:s?"Reading your crystal...":"Read My Crystal"}),s&&(0,l.jsx)("p",{className:"text-xs text-slate-400",children:"Tuning into the stone's frequencyâ€¦"}),u&&(0,l.jsxs)("div",{className:"mt-2 inline-flex items-center gap-2 text-xs text-rose-300",children:[(0,l.jsx)(h,{className:"h-4 w-4"}),(0,l.jsx)("span",{children:u})]})]})]}),(0,l.jsxs)("div",{className:"space-y-4",children:[e&&(0,l.jsx)("div",{className:"overflow-hidden rounded-3xl border border-slate-800 bg-slate-900/70 shadow-xl",children:(0,l.jsx)(o(),{src:e,alt:"Crystal preview",width:600,height:800,className:"h-auto w-full object-cover"})}),n&&!u&&(0,l.jsxs)("div",{className:"rounded-3xl border border-violet-500/40 bg-gradient-to-br from-violet-500/20 via-fuchsia-500/10 to-sky-500/20 p-5 text-sm text-slate-50 shadow-xl",children:[(0,l.jsx)("h3",{className:"mb-2 text-xl font-semibold text-violet-100",children:n.crystalName}),(0,l.jsxs)("p",{className:"mb-1",children:[(0,l.jsx)("span",{className:"font-semibold text-violet-50",children:"Chakra:"})," ",n.chakra]}),(0,l.jsxs)("p",{className:"leading-relaxed",children:[(0,l.jsx)("span",{className:"font-semibold text-violet-50",children:"Uses:"})," ",n.uses]}),(0,l.jsx)("button",{onClick:()=>{t(null),m(null),f(null),r(!1)},className:"mt-4 text-xs font-medium text-sky-200 hover:text-sky-100",children:"Try another crystal"})]}),!e&&!n&&(0,l.jsx)("p",{className:"text-xs text-slate-500",children:"Once you upload a photo, I'll display your crystal and its reading here."})]})]})]})]})})}}},function(e){e.O(0,[187,888,774,179],function(){return e(e.s=1532)}),_N_E=e.O()}]);