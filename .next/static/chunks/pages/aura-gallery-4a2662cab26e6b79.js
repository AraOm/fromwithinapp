(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[228],{8164:function(e,a,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/aura-gallery",function(){return r(7579)}])},9263:function(e,a,r){"use strict";r.d(a,{O:function(){return s}});let s=(0,r(1608).eI)("https://digbimkmnuepizkwkxcc.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImRpZ2JpbWttbnVlcGl6a3dreGNjIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjIyNzU5NDEsImV4cCI6MjA3Nzg1MTk0MX0.Qtf19IDWPe0MDT8v1IIAsm_U5w_qevQDge5eX6SlaQg")},7579:function(e,a,r){"use strict";r.r(a),r.d(a,{default:function(){return c}});var s=r(5893),t=r(7294),n=r(1664),i=r.n(n),l=r(9263);function c(){let[e,a]=(0,t.useState)([]),[r,n]=(0,t.useState)(!0),[c,d]=(0,t.useState)(null),[o,u]=(0,t.useState)(null);return(0,t.useEffect)(()=>{(async()=>{n(!0),d(null);let{data:{user:e},error:r}=await l.O.auth.getUser();if(r){console.error("Supabase auth error:",r),d("Problem checking your session. Try signing out and in again."),n(!1),u(!1);return}if(!e){u(!1),n(!1);return}u(!0);let{data:s,error:t}=await l.O.from("auras").select("id, created_at, image_url, primary_color, secondary_color, intensity, reading").eq("user_id",e.id).order("created_at",{ascending:!1});t?(console.error("Supabase auras load error:",t),d("Could not load your aura history.")):s&&a(s),n(!1)})()},[]),(0,s.jsxs)("main",{className:"mx-auto max-w-screen-lg px-4 pb-24 pt-6",children:[(0,s.jsxs)("header",{className:"mb-6 flex items-center justify-between gap-3",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-3xl font-semibold",children:"Aura Gallery"}),(0,s.jsx)("p",{className:"mt-2 text-gray-600",children:"A living archive of your aura readings — colors, messages, and moments in time."})]}),(0,s.jsx)(i(),{href:"/aura",className:"text-sm underline underline-offset-4 text-gray-800",children:"+ New Aura"})]}),r&&(0,s.jsx)("p",{className:"text-sm text-gray-600",children:"Gathering your light history…"}),!r&&!1===o&&(0,s.jsx)("p",{className:"text-sm text-gray-600",children:"You're not signed in, so we can't show your saved auras. Sign in, then come back here to view your gallery."}),!r&&o&&0===e.length&&(0,s.jsx)("p",{className:"text-sm text-gray-600",children:"No auras saved yet. Once you take a few readings, they'll appear here in a glowing timeline."}),c&&(0,s.jsx)("p",{className:"mt-3 text-sm text-red-500",children:c}),(0,s.jsx)("section",{className:"mt-4 grid gap-4 md:grid-cols-2",children:e.map(e=>{var a;let r=e.primary_color||"#7F5AF0",t=e.secondary_color||"#FFB3C6",n=null!==(a=e.intensity)&&void 0!==a?a:.7,i=new Date(e.created_at),l=i.toLocaleDateString(void 0,{month:"short",day:"numeric",year:"numeric"}),c=i.toLocaleTimeString(void 0,{hour:"numeric",minute:"2-digit"}),d={backgroundImage:"\n              radial-gradient(circle at 15% 10%, ".concat(r,"D9, transparent 55%),\n              radial-gradient(circle at 85% 90%, ").concat(t,"CC, transparent 60%)\n            "),opacity:n};return(0,s.jsxs)("article",{className:"relative overflow-hidden rounded-2xl border bg-white shadow-sm",children:[(0,s.jsx)("div",{className:"absolute inset-0 opacity-40",children:(0,s.jsx)("div",{className:"absolute inset-0",style:d})}),(0,s.jsxs)("div",{className:"relative z-10 p-4 flex flex-col gap-3",children:[(0,s.jsxs)("header",{className:"flex items-center justify-between gap-3",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-xs uppercase tracking-wide text-gray-500",children:l}),(0,s.jsx)("p",{className:"text-[11px] text-gray-500",children:c})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2 text-[11px] text-gray-700",children:[(0,s.jsx)("span",{className:"h-3 w-3 rounded-full border border-white",style:{background:r}}),(0,s.jsx)("span",{className:"h-3 w-3 rounded-full border border-white",style:{background:t}}),(0,s.jsxs)("span",{children:[Math.round(100*n),"%"]})]})]}),e.image_url&&(0,s.jsx)("div",{className:"overflow-hidden rounded-xl border bg-black/70",children:(0,s.jsx)("img",{src:e.image_url,alt:"Aura snapshot",className:"h-40 w-full object-cover"})}),e.reading&&(0,s.jsx)("p",{className:"text-sm text-gray-800 whitespace-pre-wrap",children:e.reading})]})]},e.id)})}),(0,s.jsx)("div",{className:"mt-6",children:(0,s.jsx)(i(),{href:"/play",className:"text-sm underline underline-offset-4 text-gray-800",children:"← Back to Play"})})]})}}},function(e){e.O(0,[608,888,774,179],function(){return e(e.s=8164)}),_N_E=e.O()}]);